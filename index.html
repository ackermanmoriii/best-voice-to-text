<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoxMind AI</title>
    
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-deep: #050508;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b8;
            --neon-purple: #8A2BE2;
            --neon-blue: #00CED1;
            --neon-green: #39FF14;
            --neon-red: #FF355E;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-blur: blur(20px);
            --font-fa: 'Vazirmatn', sans-serif;
            --font-en: 'Montserrat', sans-serif;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: var(--font-fa);
            background-color: var(--bg-deep);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow-x: hidden; position: relative;
        }

        /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù…ØªØ­Ø±Ú© */
        .ambient-glow {
            position: fixed; width: 600px; height: 600px; border-radius: 50%;
            filter: blur(150px); opacity: 0.4; z-index: -1;
            animation: moveGlow 15s infinite alternate ease-in-out;
        }
        .color-1 { top: -200px; left: -200px; background: var(--neon-purple); }
        .color-2 { bottom: -200px; right: -200px; background: var(--neon-blue); animation-delay: -7s; }
        @keyframes moveGlow {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(100px, 50px) scale(1.2); }
        }

        .app-container { width: 95%; max-width: 900px; padding: 2rem 0; z-index: 1; }

        .hero-header { text-align: center; margin-bottom: 3rem; }
        .hero-header h1 { font-family: var(--font-en); font-weight: 900; font-size: 3.5rem; margin: 0; letter-spacing: -1px; }
        .highlight-text { 
            background: linear-gradient(to right, var(--neon-purple), var(--neon-blue));
            -webkit-background-clip: text; background-clip: text; color: transparent;
        }
        .hero-header p { color: var(--text-secondary); font-size: 1.1rem; margin-top: 10px; }

        /* Ù¾Ù†Ù„â€ŒÙ‡Ø§ÛŒ Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ */
        .glass-panel {
            background: var(--glass-bg); backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            border: 1px solid var(--glass-border); border-radius: 24px;
            padding: 2rem; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-panel:hover { box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5); border-color: rgba(255, 255, 255, 0.2); }

        .auth-panel { max-width: 500px; margin: 0 auto; text-align: center; }
        .input-wrapper { display: flex; background: rgba(0,0,0,0.2); border-radius: 16px; padding: 5px; border: 1px solid var(--glass-border); }
        input[type="password"] { flex: 1; background: transparent; border: none; color: var(--text-primary); padding: 15px; font-family: var(--font-en); outline: none; }

        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
        .btn {
            border: none; cursor: pointer; font-family: inherit; font-weight: bold;
            border-radius: 14px; padding: 12px 24px; transition: all 0.3s;
            display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; filter: grayscale(1); }
        .btn:active:not(:disabled) { transform: scale(0.96); }
        .btn-primary { background: linear-gradient(135deg, var(--neon-purple), #6a00ff); color: white; }
        .glow-effect:hover:not(:disabled) { box-shadow: 0 0 20px var(--neon-purple); }
        .btn-success { background: linear-gradient(135deg, var(--neon-green), #00b300); color: black; }
        .btn-danger { background: linear-gradient(135deg, var(--neon-red), #cc0000); color: white; }
        .btn-circle { width: 70px; height: 70px; border-radius: 50%; padding: 0; }
        .btn-circle svg { width: 32px; height: 32px; }
        .full-width { width: 100%; margin-top: 1rem; padding: 16px; font-size: 1.1rem; }
        .btn-text-danger { background: transparent; color: var(--text-secondary); margin-top: 20px; width: 100%; }
        .btn-text-danger:hover:not(:disabled) { color: var(--neon-red); background: rgba(255, 53, 94, 0.1); }

        /* ÙˆÛŒÚ˜ÙˆØ§Ù„Ø§ÛŒØ²Ø± Ùˆ ØªØ§ÛŒÙ…Ø± */
        .recorder-panel { text-align: center; margin-bottom: 2rem; position: relative; overflow: hidden; }
        .timer-display { font-family: var(--font-en); font-size: 4rem; font-weight: 900; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        #audio-visualizer { width: 100%; height: 80px; margin: 10px 0; }
        .status-badge { display: inline-block; padding: 6px 16px; border-radius: 20px; background: rgba(255,255,255,0.1); color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 2rem; }
        .controls-wrapper { display: flex; justify-content: center; gap: 2rem; }

        /* Ú¯Ø±ÛŒØ¯ Ù†ØªØ§ÛŒØ¬ */
        .results-grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
        @media (min-width: 768px) { .results-grid { grid-template-columns: 1fr 1fr; } }
        .result-card { display: flex; flex-direction: column; min-height: 350px; }
        .card-header { margin-bottom: 1rem; border-bottom: 1px solid var(--glass-border); padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .card-header h3 { margin: 0; font-size: 1.2rem; color: var(--text-secondary); }

        textarea, .output-box {
            flex: 1; width: 100%; background: rgba(0,0,0,0.2); border: 1px solid var(--glass-border);
            border-radius: 16px; padding: 15px; color: var(--text-primary); font-size: 1.1rem;
            line-height: 1.7; resize: none; outline: none; font-family: var(--font-en);
        }
        .output-box { white-space: pre-wrap; overflow-y: auto; }
        .empty-state { color: var(--text-secondary); font-style: italic; opacity: 0.7; text-align: center; padding-top: 40px; }
        
        .hidden { display: none !important; }

        /* Ø¯Ú©Ù…Ù‡ Ú©Ù¾ÛŒ */
        .btn-ghost { background: transparent; color: var(--text-secondary); padding: 6px 12px; border-radius: 8px; border: 1px solid var(--glass-border); }
        .btn-ghost:hover { background: rgba(255,255,255,0.1); color: var(--text-primary); }
        .btn-ghost.success { border-color: var(--neon-green); color: var(--neon-green); }

        /* Ù‡Ø§ÛŒÙ„Ø§ÛŒØªâ€ŒÙ‡Ø§ */
        .highlight { position: relative; cursor: help; padding: 2px 6px; border-radius: 6px; font-weight: 600; border-bottom: 2px solid transparent; }
        .correction-red { color: #ff6b81; background: rgba(255, 53, 94, 0.1); border-color: var(--neon-red); }
        .suggestion-yellow { color: #fbd858; background: rgba(255, 221, 89, 0.1); border-color: #fbd858; }
        .translation-blue { color: #70a1ff; background: rgba(83, 82, 237, 0.1); border-color: var(--neon-blue); }
        .highlight:hover::after {
            content: attr(data-reason); position: absolute; bottom: 130%; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.9); color: white; padding: 8px 12px; border-radius: 8px; font-size: 0.85rem;
            white-space: nowrap; z-index: 10; box-shadow: 0 5px 15px rgba(0,0,0,0.5); border: 1px solid var(--glass-border);
        }
    </style>
</head>
<body>

    <div class="ambient-glow color-1"></div>
    <div class="ambient-glow color-2"></div>

    <main class="app-container">
        
        <header class="hero-header">
            <h1>VOX<span class="highlight-text">MIND</span> AI</h1>
            <p>Ø¯Ø³ØªÛŒØ§Ø± ØµÙˆØªÛŒ ÙØ±Ø§-Ù‡ÙˆØ´Ù…Ù†Ø¯Ø› Ø¶Ø¨Ø·ØŒ ØªØ±Ø¬Ù…Ù‡ Ùˆ Ø§Ø±ØªÙ‚Ø§ÛŒ Ø¢Ù†ÛŒ Ø²Ø¨Ø§Ù†.</p>
        </header>

        <section id="auth-section" class="glass-panel auth-panel">
            <h2>ğŸ” ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</h2>
            <p style="color:var(--text-secondary); margin-bottom: 1.5rem;">Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù…ØºØ² Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒØŒ Ú©Ù„ÛŒØ¯ Gemini Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>
            <div class="input-wrapper">
                <input type="password" id="api-key" placeholder="Ú©Ù„ÛŒØ¯ API Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯..." dir="ltr">
                <button id="save-key-btn" class="btn btn-primary glow-effect">
                    <span>ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </section>

        <section id="main-interface" class="hidden">
            
            <div class="glass-panel recorder-panel">
                <div class="timer-display" id="timer-display">00:00</div>
                <canvas id="audio-visualizer" width="600" height="100"></canvas>
                <div class="status-badge" id="status-text">Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù†ÛŒØ¯Ù†...</div>

                <div class="controls-wrapper">
                    <button id="record-btn" class="btn btn-circle btn-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
                    </button>
                    <button id="stop-btn" class="btn btn-circle btn-danger" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/></svg>
                    </button>
                </div>
            </div>

            <div class="results-grid">
                <div class="glass-panel result-card">
                    <div class="card-header"><h3>ğŸ’­ ÙˆØ±ÙˆØ¯ÛŒ Ø®Ø§Ù… (Raw)</h3></div>
                    <textarea id="raw-text" placeholder="Ø¢Ù†Ú†Ù‡ Ø´Ù†ÛŒØ¯Ù‡ Ø´Ø¯..." readonly></textarea>
                </div>

                <div class="glass-panel result-card">
                    <div class="card-header">
                        <h3>âœ¨ Ø®Ø±ÙˆØ¬ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ (AI Refined)</h3>
                        <button id="copy-btn" class="btn btn-ghost hidden" title="Ú©Ù¾ÛŒ Ù…ØªÙ†">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="copy-icon"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                            <span class="copy-label">Ú©Ù¾ÛŒ</span>
                        </button>
                    </div>
                    <div id="refined-output" class="output-box" dir="ltr"><div class="empty-state">Ù…Ù†ØªØ¸Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´...</div></div>
                    <button id="refine-btn" class="btn btn-primary full-width glow-effect" disabled>ğŸ§  Ø¢Ù†Ø§Ù„ÛŒØ² Ùˆ Ø§Ø±ØªÙ‚Ø§ÛŒ Ù…ØªÙ†</button>
                </div>
            </div>

             <button id="finish-btn" class="btn btn-text-danger finish-trigger" disabled>Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ùˆ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ</button>
        </section>
    </main>

    <script>
        let mediaRecorder, audioChunks = [], timerInterval, startTime;
        let audioContext, analyser, dataArray, source, visualizerAnimationId;
        const canvas = document.getElementById('audio-visualizer');
        const canvasCtx = canvas.getContext('2d');

        // Elements
        const apiKeyInput = document.getElementById('api-key');
        const saveKeyBtn = document.getElementById('save-key-btn');
        const authSection = document.getElementById('auth-section');
        const mainInterface = document.getElementById('main-interface');
        const recordBtn = document.getElementById('record-btn');
        const stopBtn = document.getElementById('stop-btn');
        const timerDisplay = document.getElementById('timer-display');
        const statusText = document.getElementById('status-text');
        const rawTextArea = document.getElementById('raw-text');
        const refineBtn = document.getElementById('refine-btn');
        const refinedOutput = document.getElementById('refined-output');
        const finishBtn = document.getElementById('finish-btn');
        const copyBtn = document.getElementById('copy-btn');

        saveKeyBtn.addEventListener('click', () => {
            if (apiKeyInput.value.trim().length > 10) {
                authSection.style.opacity = '0';
                setTimeout(() => {
                    authSection.style.display = 'none';
                    mainInterface.classList.remove('hidden');
                    mainInterface.style.opacity = '0';
                    requestAnimationFrame(() => {
                        mainInterface.style.transition = 'all 0.5s ease';
                        mainInterface.style.opacity = '1';
                    });
                }, 300);
            } else { alert("Ù„Ø·ÙØ§ API Key Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"); }
        });

        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsedTime = Date.now() - startTime;
                const totalSeconds = Math.floor(elapsedTime / 1000);
                timerDisplay.innerText = `${Math.floor(totalSeconds / 60).toString().padStart(2, '0')}:${(totalSeconds % 60).toString().padStart(2, '0')}`;
            }, 1000);
        }

        function stopTimer() { clearInterval(timerInterval); timerDisplay.innerText = "00:00"; }
        function blobToBase64(blob) { return new Promise((resolve, _) => { const reader = new FileReader(); reader.onloadend = () => resolve(reader.result.split(',')[1]); reader.readAsDataURL(blob); }); }

        function setupVisualizer(stream) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            analyser = audioContext.createAnalyser();
            source = audioContext.createMediaStreamSource(stream);
            source.connect(analyser);
            analyser.fftSize = 256;
            dataArray = new Uint8Array(analyser.frequencyBinCount);
            drawVisualizer();
        }

        function drawVisualizer() {
            visualizerAnimationId = requestAnimationFrame(drawVisualizer);
            analyser.getByteFrequencyData(dataArray);
            canvasCtx.clearRect(0, 0, canvas.width, canvas.height);
            const barWidth = (canvas.width / dataArray.length) * 2.5;
            let x = 0;
            for(let i = 0; i < dataArray.length; i++) {
                const barHeight = dataArray[i] / 1.5;
                const gradient = canvasCtx.createLinearGradient(0, 0, 0, canvas.height);
                gradient.addColorStop(0, '#8A2BE2'); gradient.addColorStop(1, '#00CED1');
                canvasCtx.fillStyle = gradient;
                canvasCtx.fillRect(x, canvas.height / 2 - barHeight / 2, barWidth, barHeight);
                x += barWidth + 1;
            }
        }

        function stopVisualizer() {
            if (visualizerAnimationId) cancelAnimationFrame(visualizerAnimationId);
            if (audioContext) audioContext.close();
            canvasCtx.clearRect(0, 0, canvas.width, canvas.height);
        }

        recordBtn.addEventListener('click', async () => {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                setupVisualizer(stream);
                mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/webm' });
                audioChunks = [];
                mediaRecorder.ondataavailable = event => audioChunks.push(event.data);
                mediaRecorder.onstop = processAudioDirectly;
                mediaRecorder.start();
                recordBtn.disabled = true; stopBtn.disabled = false; finishBtn.disabled = true; refineBtn.disabled = true; copyBtn.classList.add('hidden');
                statusText.innerText = "ğŸ™ï¸ Ø¯Ø± Ø­Ø§Ù„ Ø¶Ø¨Ø·..."; statusText.style.color = "var(--neon-red)";
                startTimer();
            } catch (err) { alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…ÛŒÚ©Ø±ÙˆÙÙˆÙ† Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯."); }
        });

        stopBtn.addEventListener('click', () => { if (mediaRecorder) { mediaRecorder.stop(); stopTimer(); stopVisualizer(); recordBtn.disabled = false; stopBtn.disabled = true; statusText.innerText = "â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„..."; } });

        async function processAudioDirectly() {
            const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
            try {
                const base64Audio = await blobToBase64(audioBlob);
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKeyInput.value.trim()}`, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: "Listen explicitly. Transcribe exactly what is said. The speaker uses a mix of English and Persian. Write Persian in Persian script, English in English. Do not translate yet." }, { inline_data: { mime_type: "audio/webm", data: base64Audio } }] }] })
                });
                const data = await response.json();
                if (data.candidates) {
                    rawTextArea.value = data.candidates[0].content.parts[0].text;
                    statusText.innerText = "âœ… Ù…ØªÙ† Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª."; statusText.style.color = "var(--neon-green)";
                    refineBtn.disabled = false; finishBtn.disabled = false;
                }
            } catch (error) { statusText.innerText = "âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø·"; }
        }

        refineBtn.addEventListener('click', async () => {
            const text = rawTextArea.value;
            statusText.innerText = "ğŸ§  Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¯Ø± Ø­Ø§Ù„ ÙÚ©Ø± Ú©Ø±Ø¯Ù†..."; refineBtn.disabled = true;
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKeyInput.value.trim()}`, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `You are a professional bilingual editor. Goal: Produce a "Simplified, Clarified, and Translated" English version of the input (mixed English/Persian). RULES: 1. Translate Persian to English. 2. Simplify vocabulary. 3. Clarify meaning naturally. OUTPUT: JSON object with key "markedUpText". Use these XML tags for changes: - <TRANSLATE original="..." reason="...">...</TRANSLATE> - <CORRECT original="..." reason="...">...</CORRECT> - <SUGGEST original="..." reason="...">...</SUGGEST>. Input: ${text}` }] }],
                        generation_config: { response_mime_type: "application/json" }
                    })
                });
                const data = await response.json();
                const parsedData = JSON.parse(data.candidates[0].content.parts[0].text);
                if (parsedData.markedUpText) {
                    refinedOutput.innerHTML = parsedData.markedUpText
                        .replace(/<CORRECT original=['"](.*?)['"] reason=['"](.*?)['"]>(.*?)<\/CORRECT>/g, '<span class="highlight correction-red" data-reason="$2 (Ø§ØµÙ„ÛŒ: $1)">$3</span>')
                        .replace(/<SUGGEST original=['"](.*?)['"] reason=['"](.*?)['"]>(.*?)<\/SUGGEST>/g, '<span class="highlight suggestion-yellow" data-reason="$2 (Ø§ØµÙ„ÛŒ: $1)">$3</span>')
                        .replace(/<TRANSLATE original=['"](.*?)['"] reason=['"](.*?)['"]>(.*?)<\/TRANSLATE>/g, '<span class="highlight translation-blue" data-reason="$2 (Ø§ØµÙ„ÛŒ: $1)">$3</span>');
                    statusText.innerText = "âœ¨ Ø§ØµÙ„Ø§Ø­Ø§Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯."; copyBtn.classList.remove('hidden');
                }
            } catch (error) { refinedOutput.innerHTML = "Ø®Ø·Ø§."; } finally { refineBtn.disabled = false; }
        });

        copyBtn.addEventListener('click', () => {
            const textToCopy = refinedOutput.innerText;
            if (textToCopy) navigator.clipboard.writeText(textToCopy).then(() => {
                const originalLabel = copyBtn.querySelector('.copy-label').innerText;
                copyBtn.classList.add('success'); copyBtn.querySelector('.copy-label').innerText = "Ú©Ù¾ÛŒ Ø´Ø¯!";
                setTimeout(() => { copyBtn.classList.remove('success'); copyBtn.querySelector('.copy-label').innerText = originalLabel; }, 2000);
            });
        });

        finishBtn.addEventListener('click', () => {
            if (confirm("Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ØŸ")) {
                rawTextArea.value = ""; refinedOutput.innerHTML = '<div class="empty-state">Ù…Ù†ØªØ¸Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´...</div>';
                statusText.innerText = "Ø¢Ù…Ø§Ø¯Ù‡..."; finishBtn.disabled = true; refineBtn.disabled = true; copyBtn.classList.add('hidden'); stopVisualizer();
            }
        });
    </script>
</body>
</html>
